# 표준 입출력

PS에서 표준 입출력을 자주 활용하는 만큼, 특수 문법으로 지정하여 사용합니다.

## 입력 받기

형식 입력 문법을 기본으로 하고, 나머지 문법은 논의해볼 만한 문법적 설탕입니다.

```
<형식 입력> = "read" <형식 지정자>
<공백 구분 입력> = "read" <식별자>,* // TODO: 의견 수렴
<선언과 동시에 입력> = "read" <타입> <식별자>,* // TODO: 의견 수렴
<줄 단위 입력> = "read" "line" <식별자> // TODO: 시맨틱 정의
```

입력에서 형식 지정자는 대략적으로 다음과 같은 과정을 걸쳐 각 토큰을 해석한다.

1. 현재 버퍼에 있는 공백을 모두 지운다.
2. EOF 여부를 확인한 후, EOF라면 EOFError를 던진다.
3. 조건에 맞게 토큰을 가져온다. 조건에 맞는 토큰이 없다면 FormatError를 던진다.
    1. "{" <이름> "}" 형태라면 값을 파싱해 저장한다.

입력은 오류를 동반할 수 있기 때문에 read 표현식의 반환형은 [T!](../../result.md) 타입이다.
이를 활용해 다음과 같은 코드를 작성할 수 있다.

```
// EOFError나 FormatError가 뜰 때까지 반복하기
while read `{n}` { ... }
```

```
// EOFError가 뜨면 break하는 무한 반복문
loop  {
    i32 n
    read `{n}` catch EOFError { break }
}
```

## 출력하기

형식 출력 문법을 기본으로 하고, 나머지 문법은 논의해볼 만한 문법적 설탕입니다.

```
<형식 출력> = "write" <형식 지정자>
<공백 구분 출력> = "write" <식별자>,* // TODO: 의견 수렴
```
